-- ============================================================================
-- SQL скрипт для создания профиля организатора
-- ============================================================================
-- ИНСТРУКЦИЯ:
-- 1. Сначала создайте пользователя в Supabase Dashboard -> Authentication -> Users
-- 2. Скопируйте User ID созданного пользователя
-- 3. Замените YOUR_ORGANIZER_USER_ID и email на реальные значения
-- 4. Выполните этот скрипт в Supabase SQL Editor
-- ============================================================================

-- Шаг 1: Создаем профиль организатора
-- ВАЖНО: Замените 'YOUR_ORGANIZER_USER_ID' на реальный ID пользователя из auth.users
-- ВАЖНО: Замените 'organizer@example.com' на email, который использовали при создании пользователя
-- ВАЖНО: Замените 'Имя Организатора' на реальное имя организатора

INSERT INTO profiles (id, email, name, role)
VALUES (
  'YOUR_ORGANIZER_USER_ID', -- ⚠️ ЗАМЕНИТЕ НА РЕАЛЬНЫЙ ID ПОЛЬЗОВАТЕЛЯ ИЗ auth.users
  'organizer@example.com', -- ⚠️ ЗАМЕНИТЕ НА РЕАЛЬНЫЙ EMAIL
  'Имя Организатора', -- ⚠️ ЗАМЕНИТЕ НА РЕАЛЬНОЕ ИМЯ
  'organizer'
)
ON CONFLICT (id) DO UPDATE
SET 
  email = EXCLUDED.email,
  name = EXCLUDED.name,
  role = EXCLUDED.role;

-- ============================================================================
-- Проверка результата (опционально)
-- Раскомментируйте запрос ниже, чтобы проверить созданный профиль:
-- ============================================================================
-- SELECT 
--   id,
--   email,
--   name,
--   role,
--   created_at,
--   updated_at
-- FROM profiles
-- WHERE role = 'organizer' AND id = 'YOUR_ORGANIZER_USER_ID';

-- Или проверьте всех организаторов:
-- SELECT 
--   id,
--   email,
--   name,
--   role,
--   created_at
-- FROM profiles
-- WHERE role = 'organizer'
-- ORDER BY created_at DESC;

-- ============================================================================
-- ДОПОЛНИТЕЛЬНАЯ ИНФОРМАЦИЯ:
-- ============================================================================
-- 
-- После создания профиля организатор сможет:
-- 1. Войти в систему используя email и пароль, указанные при создании пользователя
-- 2. Получить доступ к панели организатора (/organizer)
-- 3. Управлять свадьбами, клиентами, задачами и документами
--
-- Обратите внимание:
-- - Профиль организатора должен ссылаться на существующую запись в auth.users
-- - ID в profiles должен совпадать с ID в auth.users
-- - Роль 'organizer' дает доступ к полному функционалу управления системой
-- ============================================================================

